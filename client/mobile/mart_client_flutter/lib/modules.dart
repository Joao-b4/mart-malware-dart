import 'dart:io';
import 'package:device_info/device_info.dart';
import 'package:flutter/cupertino.dart';
import 'manipulate_data.dart';

class Modules {
  Map map = Map<int, String>();
  Future<Map> selectorFromMap({Map map, context}) async {
    if (map.containsKey('id') &&
        map['id'].isNotEmpty &&
        ManipulateData.isInt(map['id'])) {
      int id = int.parse(map['id']);
      switch (id) {
        case 1:
          return getInfo(context);
      }
      
    }
  }
  Future<Map<String,String>> getInfo(context) async{
    String info = "";

    if (Platform.isAndroid) {
      var androidInfo = await DeviceInfoPlugin().androidInfo;
      var release = androidInfo.version.release;
      var sdkInt = androidInfo.version.sdkInt;
      var manufacturer = androidInfo.manufacturer;
      var model = androidInfo.model;
      info = 'Android $release (SDK $sdkInt), $manufacturer $model';
      // Android 9 (SDK 28), Xiaomi Redmi Note 7
    }

    if (Platform.isIOS) {
      var iosInfo = await DeviceInfoPlugin().iosInfo;
      var systemName = iosInfo.systemName;
      var version = iosInfo.systemVersion;
      var name = iosInfo.name;
      var model = iosInfo.model;
      info = '$systemName $version, $name $model';
      // iOS 13.1, iPhone 11 Pro Max iPhone
    }

    Locale myLocale = Localizations.localeOf(context);

    return {"os": info, "lang": myLocale.languageCode};
  }


}

