import 'dart:io';
import 'dart:convert';

class Shell{

  Shell();

  static Future<Map<String, dynamic>> executableCommand(String command, {List<String> arguments}) async{
    Map<String, dynamic> _mapForResult = {
      "status": null,
      "pId": null,
      "response": null
    };

    try{
      ProcessResult processResultFromRunCommand = await Process.run(command, arguments ?? new List(), runInShell: true);
      
      dynamic returnProcess = processResultFromRunCommand.stdout;

      if(returnProcess == null){
        _mapForResult["status"] = false;
        return _mapForResult;
      }else{
        _mapForResult["status"] = true;
        _mapForResult["response"] = returnProcess.toString();
        _mapForResult["pId"] = processResultFromRunCommand.pid;
        return _mapForResult;
      }
    }catch(error){
      print(error.toString());
      _mapForResult["status"] = false;
      _mapForResult["error"] = true;
      _mapForResult["response"] = "${error.toString()}";
      return _mapForResult;
    }
  }

  static Future<void> terminal()async{
   await Process.start("C:\\Windows\\system32\\cmd.exe", List<String>()).then((process){

   });
  }

}


// // CODE FOR DEBUG
void main(List<String> arguments) async{
  await Shell.terminal();
}
