import 'dart:async';
import 'dart:html';
import 'dart:io';
import 'package:server/server.dart';
import '../lib/models/client.dart';

List<Client> clients = [];
StreamController<List<Client>> stClients = new StreamController<List<Client>>();

List<Client> main() {
  Server.listen((Socket socketClient) {
    Client newClientForListen = new Client(socketClient);
    clients.add(newClientForListen);
  });
  return clients;
}

// stdin.listen((data) {
//   String text = new String.fromCharCodes(data).trim();
//   text = text.replaceAll("\\", "\\\\");
//   socket.write(text + '\n\r');
// });
